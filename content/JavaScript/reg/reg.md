
# 正则
***笔记整理来源于《JavaScript正则表达式迷你书》***    
> **正则表达式是匹配模式，要么匹配字符，要么匹配位置**  

[正则可视化网站](https://jex.im/regulex/#!flags=&re=%5E(a%7Cb)*%3F%24)
修饰符字符 | 含义
----------|---------
i         | 不区分大小写
g         |执行全局匹配，即找到所有的匹配，而不是找到第一个之后就停止
m         |多行匹配模式，^匹配一行的开头和字符串的开头，$匹配行的结束和字符串的结束


## 1、正则表达式匹配攻略
### 1.1 模糊匹配
* 横向模糊匹配   
  实现方式使用量词。如 `{m,n}`,表示至少出现 m 次，最多出现 n 次     
  ```js
  var reg = /ab{2,5}c/g
  'abc abbc abbbc abbbbc abbbbbc'.match(reg) // ["abbc", "abbbc", "abbbbc", "abbbbbc"]
  ```
* 纵向模糊匹配    
  实现方式使用数组，如 `[abc]` 表示匹配中间任意一个
  ```js
  var reg = /a[123]b/g
  var str = 'aob a1b a2b a3b a4b'
  str.match(reg) // ["a1b", "a2b", "a3b"]
  ```
### 1.2 字符组
用一组单词来表示需要被匹配到的一个字符。
* 范围表示法 `[a-z]` 表示所有小写字母,`[0-9]` 表示所有数字等
* 排除字符组 `[^a]` 处理 `a` 之外所有,`[^abc]` 除了`a,b,c`外所有。
常见
* 常见的简写字符组  

字符组   |  具体含义
--------|-----------
\d      | 代表 `[0-9]`， 记忆方式 digit(数字)
\D      | 代表 `[^0-9]`，与 `\d` 对比记忆
\w      | 代表 `[0-9a-zA-Z_]` 数字字母下划线。记忆方式 word 单词字符
\W      | 代表 `[^0-9a-zA-Z_]` 与 \w 对比记忆
\s      | 代表 `[ \t\v\n\r\f]`。所有空白符（空格、水平制表符、垂直制表符、换行符、回车符、换页符）。记忆方式 space
\S      | 代表 `[^ \t\v\n\r\f]`。非空字符 \s 对比记忆
.       | 代表 `[^\n\s\u2028\u2029]`.通配符，几乎任意字符。换行符、回车符、行分隔符和段分隔符除外

如果要匹配任意字符:`[\d\D]、[\s\S]、[\w\W]、[^]`

### 1.3、量词
量词    | 含义
--------|---------------
{m,}    | 至少出现 m 次
{m,n}   | 至少出现 m 次，最多出现 n 次
?       | 相当于 {0,1} 没有或者一次
+       | 相当于{1,} ，至少一次
*       | 相当于{0,},不出现或者出现任意次数，

### 1.4 贪婪匹配和惰性匹配
* 贪婪匹配
  ```js
  var reg = /\d{2,5}/g
  var str = '123 1234 12345'
  str.match(reg) // ["123", "1234", "12345"]
  ```
  正则默认的是贪婪匹配，它会可能的去匹配符合自身的较多的范围。
* 惰性匹配
  ```js
  var reg = /\d{2,5}?/g
  var str = '123 1234 12345'
  str.match(reg)  // ["12", "12", "34", "12", "34"]
  ```
  在量词之后加上 `?` 就可以将正则改为惰性匹配
### 1.5 多选分支
多选分支就是支持多个子模式任选其一。通过管道符实现。如 `(p1|p1|p3)` 匹配 `p1、p2、p3`中间任意一个。
```JS
var reg = /good|goodbye/g
var str = 'goodbye'
str.match(reg) // ["good"]

var reg1 = /goodbye|good/g
var str1 = 'goodbye'
str1.match(reg1) // ["goodbye"]
```
由上可知，多选分支默认为惰性匹配。
